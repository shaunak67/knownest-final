{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":73,"index":123}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":62,"index":186}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":187},"end":{"line":4,"column":50,"index":237}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"../contexts/ThemeContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":238},"end":{"line":5,"column":52,"index":290}}],"key":"Qyr6TFgycwhumdxDRkHRN41VAvI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auth-callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _expoRouter = require(_dependencyMap[3], \"expo-router\");\n  var _contextsAuthContext = require(_dependencyMap[4], \"../contexts/AuthContext\");\n  var _contextsThemeContext = require(_dependencyMap[5], \"../contexts/ThemeContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  function AuthCallback() {\n    _s();\n    var router = (0, _expoRouter.useRouter)();\n    var _useAuth = (0, _contextsAuthContext.useAuth)(),\n      login = _useAuth.login;\n    var _useTheme = (0, _contextsThemeContext.useTheme)(),\n      colors = _useTheme.colors;\n    var hasProcessed = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      if (hasProcessed.current) return;\n      hasProcessed.current = true;\n      var processAuth = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var sessionId = null;\n\n            // Try to get session_id from URL hash (web) or params\n            if (typeof window !== 'undefined' && window.location.hash) {\n              var hash = window.location.hash;\n              var match = hash.match(/session_id=([^&]+)/);\n              if (match) sessionId = match[1];\n            }\n            if (!sessionId) {\n              // Try search params\n              var params = new URLSearchParams(typeof window !== 'undefined' ? window.location.search : '');\n              sessionId = params.get('session_id');\n            }\n            if (sessionId) {\n              var user = yield login(sessionId);\n              if (user) {\n                router.replace('/(tabs)/home');\n                return;\n              }\n            }\n            router.replace('/');\n          } catch {\n            router.replace('/');\n          }\n        });\n        return function processAuth() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      processAuth();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.View, {\n      style: [styles.container, {\n        backgroundColor: colors.background\n      }],\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.ActivityIndicator, {\n        size: \"large\",\n        color: colors.primary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.Text, {\n        style: [styles.text, {\n          color: colors.textSecondary\n        }],\n        children: \"Signing you in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthCallback, \"gu6j8wcFgpYfQQbGXThTAXk7r8s=\", false, function () {\n    return [_expoRouter.useRouter, _contextsAuthContext.useAuth, _contextsThemeContext.useTheme];\n  });\n  _c = AuthCallback;\n  var styles = _reactNative.StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    text: {\n      marginTop: 16,\n      fontSize: 16\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallback\");\n});","lineCount":117,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"AuthCallback"],[17,25,7,15],[18,4,7,15],[19,2,7,15],[20,2,57,1],[20,6,57,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,57,1],[20,45,57,1,"require"],[20,52,57,1],[20,53,57,1,"_dependencyMap"],[20,67,57,1],[21,2,57,1],[21,6,57,1,"_asyncToGenerator"],[21,23,57,1],[21,26,57,1,"_interopDefault"],[21,41,57,1],[21,42,57,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,57,1],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNative"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_expoRouter"],[24,17,3,0],[24,20,3,0,"require"],[24,27,3,0],[24,28,3,0,"_dependencyMap"],[24,42,3,0],[25,2,4,0],[25,6,4,0,"_contextsAuthContext"],[25,26,4,0],[25,29,4,0,"require"],[25,36,4,0],[25,37,4,0,"_dependencyMap"],[25,51,4,0],[26,2,5,0],[26,6,5,0,"_contextsThemeContext"],[26,27,5,0],[26,30,5,0,"require"],[26,37,5,0],[26,38,5,0,"_dependencyMap"],[26,52,5,0],[27,2,5,52],[27,6,5,52,"_reactJsxDevRuntime"],[27,25,5,52],[27,28,5,52,"require"],[27,35,5,52],[27,36,5,52,"_dependencyMap"],[27,50,5,52],[28,2,7,15],[28,11,7,24,"AuthCallback"],[28,23,7,36,"AuthCallback"],[28,24,7,36],[28,26,7,39],[29,4,7,39,"_s"],[29,6,7,39],[30,4,8,2],[30,8,8,8,"router"],[30,14,8,14],[30,17,8,17],[30,21,8,17,"useRouter"],[30,32,8,26],[30,33,8,26,"useRouter"],[30,42,8,26],[30,44,8,27],[30,45,8,28],[31,4,9,2],[31,8,9,2,"_useAuth"],[31,16,9,2],[31,19,9,20],[31,23,9,20,"useAuth"],[31,43,9,27],[31,44,9,27,"useAuth"],[31,51,9,27],[31,53,9,28],[31,54,9,29],[32,6,9,10,"login"],[32,11,9,15],[32,14,9,15,"_useAuth"],[32,22,9,15],[32,23,9,10,"login"],[32,28,9,15],[33,4,10,2],[33,8,10,2,"_useTheme"],[33,17,10,2],[33,20,10,21],[33,24,10,21,"useTheme"],[33,45,10,29],[33,46,10,29,"useTheme"],[33,54,10,29],[33,56,10,30],[33,57,10,31],[34,6,10,10,"colors"],[34,12,10,16],[34,15,10,16,"_useTheme"],[34,24,10,16],[34,25,10,10,"colors"],[34,31,10,16],[35,4,11,2],[35,8,11,8,"hasProcessed"],[35,20,11,20],[35,23,11,23],[35,27,11,23,"useRef"],[35,33,11,29],[35,34,11,29,"useRef"],[35,40,11,29],[35,42,11,30],[35,47,11,35],[35,48,11,36],[36,4,13,2],[36,8,13,2,"useEffect"],[36,14,13,11],[36,15,13,11,"useEffect"],[36,24,13,11],[36,26,13,12],[36,32,13,18],[37,6,14,4],[37,10,14,8,"hasProcessed"],[37,22,14,20],[37,23,14,21,"current"],[37,30,14,28],[37,32,14,30],[38,6,15,4,"hasProcessed"],[38,18,15,16],[38,19,15,17,"current"],[38,26,15,24],[38,29,15,27],[38,33,15,31],[39,6,17,4],[39,10,17,10,"processAuth"],[39,21,17,21],[40,8,17,21],[40,12,17,21,"_ref"],[40,16,17,21],[40,23,17,21,"_asyncToGenerator"],[40,40,17,21],[40,41,17,21,"default"],[40,48,17,21],[40,50,17,24],[40,63,17,36],[41,10,18,6],[41,14,18,10],[42,12,19,8],[42,16,19,12,"sessionId"],[42,25,19,36],[42,28,19,39],[42,32,19,43],[44,12,21,8],[45,12,22,8],[45,16,22,12],[45,23,22,19,"window"],[45,29,22,25],[45,34,22,30],[45,45,22,41],[45,49,22,45,"window"],[45,55,22,51],[45,56,22,52,"location"],[45,64,22,60],[45,65,22,61,"hash"],[45,69,22,65],[45,71,22,67],[46,14,23,10],[46,18,23,16,"hash"],[46,22,23,20],[46,25,23,23,"window"],[46,31,23,29],[46,32,23,30,"location"],[46,40,23,38],[46,41,23,39,"hash"],[46,45,23,43],[47,14,24,10],[47,18,24,16,"match"],[47,23,24,21],[47,26,24,24,"hash"],[47,30,24,28],[47,31,24,29,"match"],[47,36,24,34],[47,37,24,35],[47,57,24,55],[47,58,24,56],[48,14,25,10],[48,18,25,14,"match"],[48,23,25,19],[48,25,25,21,"sessionId"],[48,34,25,30],[48,37,25,33,"match"],[48,42,25,38],[48,43,25,39],[48,44,25,40],[48,45,25,41],[49,12,26,8],[50,12,28,8],[50,16,28,12],[50,17,28,13,"sessionId"],[50,26,28,22],[50,28,28,24],[51,14,29,10],[52,14,30,10],[52,18,30,16,"params"],[52,24,30,22],[52,27,30,25],[52,31,30,29,"URLSearchParams"],[52,46,30,44],[52,47,30,45],[52,54,30,52,"window"],[52,60,30,58],[52,65,30,63],[52,76,30,74],[52,79,30,77,"window"],[52,85,30,83],[52,86,30,84,"location"],[52,94,30,92],[52,95,30,93,"search"],[52,101,30,99],[52,104,30,102],[52,106,30,104],[52,107,30,105],[53,14,31,10,"sessionId"],[53,23,31,19],[53,26,31,22,"params"],[53,32,31,28],[53,33,31,29,"get"],[53,36,31,32],[53,37,31,33],[53,49,31,45],[53,50,31,46],[54,12,32,8],[55,12,34,8],[55,16,34,12,"sessionId"],[55,25,34,21],[55,27,34,23],[56,14,35,10],[56,18,35,16,"user"],[56,22,35,20],[56,31,35,29,"login"],[56,36,35,34],[56,37,35,35,"sessionId"],[56,46,35,44],[56,47,35,45],[57,14,36,10],[57,18,36,14,"user"],[57,22,36,18],[57,24,36,20],[58,16,37,12,"router"],[58,22,37,18],[58,23,37,19,"replace"],[58,30,37,26],[58,31,37,27],[58,45,37,41],[58,46,37,42],[59,16,38,12],[60,14,39,10],[61,12,40,8],[62,12,42,8,"router"],[62,18,42,14],[62,19,42,15,"replace"],[62,26,42,22],[62,27,42,23],[62,30,42,26],[62,31,42,27],[63,10,43,6],[63,11,43,7],[63,12,43,8],[63,18,43,14],[64,12,44,8,"router"],[64,18,44,14],[64,19,44,15,"replace"],[64,26,44,22],[64,27,44,23],[64,30,44,26],[64,31,44,27],[65,10,45,6],[66,8,46,4],[66,9,46,5],[67,8,46,5],[67,24,17,10,"processAuth"],[67,35,17,21,"processAuth"],[67,36,17,21],[68,10,17,21],[68,17,17,21,"_ref"],[68,21,17,21],[68,22,17,21,"apply"],[68,27,17,21],[68,34,17,21,"arguments"],[68,43,17,21],[69,8,17,21],[70,6,17,21],[70,9,46,5],[71,6,48,4,"processAuth"],[71,17,48,15],[71,18,48,16],[71,19,48,17],[72,4,49,2],[72,5,49,3],[72,7,49,5],[72,9,49,7],[72,10,49,8],[73,4,51,2],[73,24,52,4],[73,28,52,4,"_reactJsxDevRuntime"],[73,47,52,4],[73,48,52,4,"jsxDEV"],[73,54,52,4],[73,56,52,5,"_reactNative"],[73,68,52,9],[73,69,52,9,"View"],[73,73,52,9],[74,6,52,10,"style"],[74,11,52,15],[74,13,52,17],[74,14,52,18,"styles"],[74,20,52,24],[74,21,52,25,"container"],[74,30,52,34],[74,32,52,36],[75,8,52,38,"backgroundColor"],[75,23,52,53],[75,25,52,55,"colors"],[75,31,52,61],[75,32,52,62,"background"],[76,6,52,73],[76,7,52,74],[76,8,52,76],[77,6,52,76,"children"],[77,14,52,76],[77,30,53,6],[77,34,53,6,"_reactJsxDevRuntime"],[77,53,53,6],[77,54,53,6,"jsxDEV"],[77,60,53,6],[77,62,53,7,"_reactNative"],[77,74,53,24],[77,75,53,24,"ActivityIndicator"],[77,92,53,24],[78,8,53,25,"size"],[78,12,53,29],[78,14,53,30],[78,21,53,37],[79,8,53,38,"color"],[79,13,53,43],[79,15,53,45,"colors"],[79,21,53,51],[79,22,53,52,"primary"],[80,6,53,60],[81,8,53,60,"fileName"],[81,16,53,60],[81,18,53,60,"_jsxFileName"],[81,30,53,60],[82,8,53,60,"lineNumber"],[82,18,53,60],[83,8,53,60,"columnNumber"],[83,20,53,60],[84,6,53,60],[84,13,53,62],[84,14,53,63],[84,29,54,6],[84,33,54,6,"_reactJsxDevRuntime"],[84,52,54,6],[84,53,54,6,"jsxDEV"],[84,59,54,6],[84,61,54,7,"_reactNative"],[84,73,54,11],[84,74,54,11,"Text"],[84,78,54,11],[85,8,54,12,"style"],[85,13,54,17],[85,15,54,19],[85,16,54,20,"styles"],[85,22,54,26],[85,23,54,27,"text"],[85,27,54,31],[85,29,54,33],[86,10,54,35,"color"],[86,15,54,40],[86,17,54,42,"colors"],[86,23,54,48],[86,24,54,49,"textSecondary"],[87,8,54,63],[87,9,54,64],[87,10,54,66],[88,8,54,66,"children"],[88,16,54,66],[88,18,54,67],[89,6,54,84],[90,8,54,84,"fileName"],[90,16,54,84],[90,18,54,84,"_jsxFileName"],[90,30,54,84],[91,8,54,84,"lineNumber"],[91,18,54,84],[92,8,54,84,"columnNumber"],[92,20,54,84],[93,6,54,84],[93,13,54,90],[93,14,54,91],[94,4,54,91],[95,6,54,91,"fileName"],[95,14,54,91],[95,16,54,91,"_jsxFileName"],[95,28,54,91],[96,6,54,91,"lineNumber"],[96,16,54,91],[97,6,54,91,"columnNumber"],[97,18,54,91],[98,4,54,91],[98,11,55,10],[98,12,55,11],[99,2,57,0],[100,2,57,1,"_s"],[100,4,57,1],[100,5,7,24,"AuthCallback"],[100,17,7,36],[101,4,7,36],[101,12,8,17,"useRouter"],[101,23,8,26],[101,24,8,26,"useRouter"],[101,33,8,26],[101,35,9,20,"useAuth"],[101,55,9,27],[101,56,9,27,"useAuth"],[101,63,9,27],[101,65,10,21,"useTheme"],[101,86,10,29],[101,87,10,29,"useTheme"],[101,95,10,29],[102,2,10,29],[103,2,10,29,"_c"],[103,4,10,29],[103,7,7,24,"AuthCallback"],[103,19,7,36],[104,2,59,0],[104,6,59,6,"styles"],[104,12,59,12],[104,15,59,15,"StyleSheet"],[104,27,59,25],[104,28,59,25,"StyleSheet"],[104,38,59,25],[104,39,59,26,"create"],[104,45,59,32],[104,46,59,33],[105,4,60,2,"container"],[105,13,60,11],[105,15,60,13],[106,6,61,4,"flex"],[106,10,61,8],[106,12,61,10],[106,13,61,11],[107,6,62,4,"justifyContent"],[107,20,62,18],[107,22,62,20],[107,30,62,28],[108,6,63,4,"alignItems"],[108,16,63,14],[108,18,63,16],[109,4,64,2],[109,5,64,3],[110,4,65,2,"text"],[110,8,65,6],[110,10,65,8],[111,6,66,4,"marginTop"],[111,15,66,13],[111,17,66,15],[111,19,66,17],[112,6,67,4,"fontSize"],[112,14,67,12],[112,16,67,14],[113,4,68,2],[114,2,69,0],[114,3,69,1],[114,4,69,2],[115,2,69,3],[115,6,69,3,"_c"],[115,8,69,3],[116,2,69,3,"$RefreshReg$"],[116,14,69,3],[116,15,69,3,"_c"],[116,17,69,3],[117,0,69,3],[117,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processAuth"],"mappings":"AAA;eCM;YCM;wBCI;KD6B;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}